<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—Ç —ç–∫—Å–ø–µ—Ä—Ç–∞ –ö—Å–µ–Ω–∏–∏. –£–∑–Ω–∞–π —Å–≤–æ–π –ª–∞–Ω–¥—à–∞—Ñ—Ç –¥—É—à–∏.">
  <title>Fire of Life ‚Äî –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –õ–∞–Ω–¥—à–∞—Ñ—Ç</title>
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,800;1,400&family=Lora:ital,wght@0,300;0,400;0,600;1,400&family=Cinzel:wght@400;600;700&family=Italiana&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    * { -webkit-tap-highlight-color: transparent; }
    body { 
      font-family: 'Lora', serif; 
      margin: 0;
      padding: 0;
      overscroll-behavior: none;
    }
    
    h1, h2, h3, .serif { 
      font-family: 'Cinzel', serif; 
      letter-spacing: 0.05em; 
    }
    
    .display-font { 
      font-family: 'Playfair Display', serif; 
    }
    
    .elegant-font { 
      font-family: 'Italiana', serif; 
      letter-spacing: 0.1em; 
    }

    /* Animations */
    @keyframes fade-in-up { 
      from { opacity: 0; transform: translateY(30px); } 
      to { opacity: 1; transform: translateY(0); } 
    }
    
    @keyframes slide-in-right { 
      from { opacity: 0; transform: translateX(100%); } 
      to { opacity: 1; transform: translateX(0); } 
    }
    
    @keyframes zoom-slow { 
      from { transform: scale(1); } 
      to { transform: scale(1.15); } 
    }
    
    @keyframes spin-slow { 
      from { transform: rotate(0deg); } 
      to { transform: rotate(360deg); } 
    }
    
    @keyframes breathe { 
      0%, 100% { transform: scale(1); opacity: 0.7; } 
      50% { transform: scale(1.15); opacity: 1; } 
    }
    
    @keyframes rise {
      0% { transform: translateY(0) scale(1); opacity: 0; }
      20% { opacity: 0.6; }
      100% { transform: translateY(-120vh) scale(0.3); opacity: 0; }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }

    .animate-fade-in-up { 
      animation: fade-in-up 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; 
    }
    
    .animate-slide-in { 
      animation: slide-in-right 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; 
    }
    
    .animate-zoom { 
      animation: zoom-slow 25s ease-in-out infinite alternate; 
    }
    
    .animate-spin-slow { 
      animation: spin-slow 30s linear infinite; 
    }
    
    .animate-spin-very-slow { 
      animation: spin-slow 60s linear infinite; 
    }
    
    .animate-breathe { 
      animation: breathe 5s ease-in-out infinite; 
    }
    
    .animate-rise { 
      animation: rise 12s infinite linear; 
    }
    
    .animate-float { 
      animation: float 6s ease-in-out infinite; 
    }
    
    .glass-card {
      backdrop-filter: blur(20px) saturate(180%);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .glass-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 48px rgba(0, 0, 0, 0.18);
    }
    
    .scrollbar-hide::-webkit-scrollbar { 
      display: none; 
    }
    
    .scrollbar-hide { 
      -ms-overflow-style: none; 
      scrollbar-width: none; 
    }
    
    .btn-primary {
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .btn-primary::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }
    
    .btn-primary:hover::before {
      width: 300px;
      height: 300px;
    }
  </style>
</head>
<body>
  <div id="app"></div>

  <!-- React & Babel -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Lucide Icons as SVG components
    const Sun = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="1">
        <circle cx="12" cy="12" r="5"></circle>
        <line x1="12" y1="1" x2="12" y2="3"></line>
        <line x1="12" y1="21" x2="12" y2="23"></line>
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
        <line x1="1" y1="12" x2="3" y2="12"></line>
        <line x1="21" y1="12" x2="23" y2="12"></line>
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
      </svg>
    );

    const Moon = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="1">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
      </svg>
    );

    const ArrowRight = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <line x1="5" y1="12" x2="19" y2="12"></line>
        <polyline points="12 5 19 12 12 19"></polyline>
      </svg>
    );

    const ArrowLeft = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <line x1="19" y1="12" x2="5" y2="12"></line>
        <polyline points="12 19 5 12 12 5"></polyline>
      </svg>
    );

    const Heart = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
      </svg>
    );

    const Droplets = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>
      </svg>
    );

    const Flame = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"></path>
      </svg>
    );

    const Mountain = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path d="m8 3 4 8 5-5 5 15H2L8 3z"></path>
      </svg>
    );

    const Wind = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>
      </svg>
    );

    const Star = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
      </svg>
    );

    const Lock = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
      </svg>
    );

    const MessageCircle = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
      </svg>
    );

    const Share2 = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <circle cx="18" cy="5" r="3"></circle>
        <circle cx="6" cy="12" r="3"></circle>
        <circle cx="18" cy="19" r="3"></circle>
        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
      </svg>
    );

    const RotateCcw = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <polyline points="1 4 1 10 7 10"></polyline>
        <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
      </svg>
    );

    const Eye = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
        <circle cx="12" cy="12" r="3"></circle>
      </svg>
    );

    const Sparkles = ({ className, style }) => (
      <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path>
        <path d="M5 3v4"></path>
        <path d="M19 17v4"></path>
        <path d="M3 5h4"></path>
        <path d="M17 19h4"></path>
      </svg>
    );

    // THEMES
    const THEMES = {
      dark: {
        id: 'dark',
        bg: '#0f0e17',
        bgGradient: 'linear-gradient(135deg, #0f0e17 0%, #1a1625 50%, #0f0e17 100%)',
        text: '#f2f0e8',
        accent: '#D4AF37',
        accentLight: '#E5C158',
        secondary: '#a09181',
        cardBg: 'rgba(26, 22, 37, 0.5)',
        cardBorder: 'rgba(212, 175, 55, 0.15)',
        overlay: 'rgba(15, 14, 23, 0.85)',
        buttonText: '#0f0e17',
        shadow: 'rgba(0, 0, 0, 0.5)'
      },
      light: {
        id: 'light',
        bg: '#faf8f3',
        bgGradient: 'linear-gradient(135deg, #faf8f3 0%, #f5f1e8 50%, #faf8f3 100%)',
        text: '#2d2a32',
        accent: '#9e2a2b',
        accentLight: '#c74547',
        secondary: '#7a7269',
        cardBg: 'rgba(255, 255, 255, 0.6)',
        cardBorder: 'rgba(158, 42, 43, 0.2)',
        overlay: 'rgba(250, 248, 243, 0.85)',
        buttonText: '#ffffff',
        shadow: 'rgba(0, 0, 0, 0.1)'
      }
    };

    // CONTENT
    const LANDSCAPES = [
      { id: 'desert', img: 'https://images.unsplash.com/photo-1473580044384-7ba9967e16a0?auto=format&fit=crop&w=800&q=80', title: '–ë–µ—Å–∫—Ä–∞–π–Ω—è—è –ü—É—Å—Ç—ã–Ω—è', desc: '–ß—É–≤—Å—Ç–≤–æ –ø—É—Å—Ç–æ—Ç—ã, —Ç–∏—à–∏–Ω—ã, –Ω–æ –∏ –∂–∞–∂–¥—ã.', trait: '–ü—É—Å—Ç–æ—Ç–∞/–ñ–∞–∂–¥–∞' },
      { id: 'storm', img: 'https://images.unsplash.com/photo-1518837695005-2083093ee35b?auto=format&fit=crop&w=800&q=80', title: '–ë—É—à—É—é—â–∏–π –û–∫–µ–∞–Ω', desc: '–ú–Ω–æ–≥–æ —ç–º–æ—Ü–∏–π, —Ö–∞–æ—Å, —Å–∏–ª–∞, –∫–æ—Ç–æ—Ä—É—é —Ç—Ä—É–¥–Ω–æ —Å–¥–µ—Ä–∂–∞—Ç—å.', trait: '–•–∞–æ—Å/–≠–º–æ—Ü–∏–∏' },
      { id: 'fog', img: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?auto=format&fit=crop&w=800&q=80', title: '–¢—É–º–∞–Ω–Ω—ã–π –õ–µ—Å', desc: '–ù–µ—è—Å–Ω–æ—Å—Ç—å –ø—É—Ç–∏, –∑–∞–≥–∞–¥–∫–∞, –ø–æ—Ç–µ—Ä—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤.', trait: '–ù–µ—è—Å–Ω–æ—Å—Ç—å' },
      { id: 'volcano', img: 'https://images.unsplash.com/photo-1462331940025-496dfbfc7564?auto=format&fit=crop&w=800&q=80', title: '–°–ø—è—â–∏–π –í—É–ª–∫–∞–Ω', desc: '–°–∫—Ä—ã—Ç–∞—è –º–æ—â—å, –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, –≥–æ—Ç–æ–≤–æ–µ –≤—ã—Ä–≤–∞—Ç—å—Å—è.', trait: '–°–∫—Ä—ã—Ç–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ' }
    ];

    const ELEMENTS = [
      { id: 'water', icon: Droplets, title: '–ñ–∏–≤–∞—è –í–æ–¥–∞', desc: '–°–º—ã—Ç—å –ª–∏—à–Ω–µ–µ, –Ω–∞–ø–æ–ª–Ω–∏—Ç—å, –æ–∂–∏–≤–∏—Ç—å.', type: '–≠–º–æ—Ü–∏–∏' },
      { id: 'fire', icon: Flame, title: '–°–≤—è—â–µ–Ω–Ω—ã–π –û–≥–æ–Ω—å', desc: '–°–æ–≥—Ä–µ—Ç—å, –æ—Å–≤–µ—Ç–∏—Ç—å –ø—É—Ç—å, —Å–∂–µ—á—å —Å—Ç–∞—Ä–æ–µ.', type: '–≠–Ω–µ—Ä–≥–∏—è' },
      { id: 'earth', icon: Mountain, title: '–¢–≤–µ—Ä–¥–∞—è –ó–µ–º–ª—è', desc: '–î–∞—Ç—å –æ–ø–æ—Ä—É, —É–∫–æ—Ä–µ–Ω–∏—Ç—å, –∑–∞—â–∏—Ç–∏—Ç—å.', type: '–û–ø–æ—Ä–∞' },
      { id: 'air', icon: Wind, title: '–°–≤–µ–∂–∏–π –í–µ—Ç–µ—Ä', desc: '–ü—Ä–∏–Ω–µ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω—ã, –ª–µ–≥–∫–æ—Å—Ç—å, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ.', type: '–ü–µ—Ä–µ–º–µ–Ω—ã' }
    ];

    const DOORS = [
      { id: 'scale', title: '–ú–∞—Å—à—Ç–∞–±', desc: '–Ø –≥–æ—Ç–æ–≤–∞ –ø—Ä–æ—è–≤–∏—Ç—å—Å—è', result: 'freedom' },
      { id: 'depth', title: '–ì–ª—É–±–∏–Ω–∞', desc: '–Ø —Ö–æ—á—É –ø–æ–Ω—è—Ç—å —Å–µ–±—è', result: 'man_heart' }, 
      { id: 'love', title: '–õ—é–±–æ–≤—å', desc: '–Ø —Ö–æ—á—É –æ—Ç–∫—Ä—ã—Ç—å —Å–µ—Ä–¥—Ü–µ', result: 'sensual' },
      { id: 'magic', title: '–ß—É–¥–æ', desc: '–Ø —Ö–æ—á—É –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∂–µ–ª–∞–Ω–∏—è', result: 'wish' }
    ];

    const RESULTS = {
      sensual: {
        cardTitle: "–¶–≤–µ—Ç–µ–Ω–∏–µ –î—É—à–∏",
        cardImage: "https://images.unsplash.com/photo-1490750967868-58cb75065ed4?auto=format&fit=crop&w=800&q=80", 
        title: "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ –ß—É–≤—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏",
        text: "–¢–≤–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ª–∞–Ω–¥—à–∞—Ñ—Ç –∂–∞–∂–¥–µ—Ç –º—è–≥–∫–æ—Å—Ç–∏. –¢—ã —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ –±—ã–ª–∞ –≤ –≥–æ–ª–æ–≤–µ –∏–ª–∏ –≤ –±–æ—Ä—å–±–µ. –ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ —Ç–µ–ª–æ.",
        productName: "–°–≤–µ—á–∞ ¬´SENSUAL¬ª",
        productPrice: "5 000 ‚ÇΩ",
        consultationText: "–ß—É–≤—Å—Ç–≤—É–µ—à—å –±–ª–æ–∫ –Ω–∞ –∂–µ–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏? –≠—Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø–æ–º–æ–∂–µ—Ç –º—è–≥–∫–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–µ–±–µ.",
        color: "#be185d",
        icon: Heart
      },
      man_heart: {
        cardTitle: "–î—Ä–µ–≤–Ω–∏–µ –ö–æ—Ä–Ω–∏",
        cardImage: "https://images.unsplash.com/photo-1445583934509-4ad5ff6ef286?auto=format&fit=crop&w=800&q=80", 
        title: "–û–±—Ä–µ—Ç–µ–Ω–∏–µ –û–ø–æ—Ä—ã",
        text: "–¢—ã –∏—â–µ—à—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç. –í–Ω—É—Ç—Ä–∏ –º–Ω–æ–≥–æ —Ö–∞–æ—Å–∞. –¢–µ–±–µ –Ω—É–∂–Ω–æ –∑–∞–∑–µ–º–ª–∏—Ç—å—Å—è, –≤—ã—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã –∏ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–≤–µ—Ä–¥—É—é –ø–æ—á–≤—É.",
        productName: "–°–≤–µ—á–∞ ¬´HEART OF A MAN¬ª",
        productPrice: "7 000 ‚ÇΩ",
        consultationText: "–ï—Å–ª–∏ —Ö–∞–æ—Å –º–µ—à–∞–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è, —ç—Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å—Ç–µ—Ä–∂–µ–Ω—å.",
        color: "#854d0e",
        icon: Mountain
      },
      freedom: {
        cardTitle: "–ü–æ–ª–µ—Ç –Ω–∞–¥ –û–±–ª–∞–∫–∞–º–∏",
        cardImage: "https://images.unsplash.com/photo-1519834785169-98be25ec3f84?auto=format&fit=crop&w=800&q=80", 
        title: "–≠–Ω–µ—Ä–≥–∏—è –°–≤–æ–±–æ–¥—ã",
        text: "–¢–µ–±–µ —Å—Ç–∞–ª–æ —Ç–µ—Å–Ω–æ. –°—Ç–∞—Ä—ã–µ —Ä–∞–º–∫–∏ –¥–∞–≤—è—Ç, –¥—É—à–∞ –ø—Ä–æ—Å–∏—Ç –ø–æ–ª–µ—Ç–∞. –≠—Ç–æ –Ω–µ –∫—Ä–∏–∑–∏—Å, —ç—Ç–æ –∑–æ–≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.",
        productName: "–°–≤–µ—á–∞ ¬´FREEDOM¬ª",
        productPrice: "5 500 ‚ÇΩ",
        consultationText: "–ß—É–≤—Å—Ç–≤—É–µ—à—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª, –Ω–æ –Ω–µ –≤–∏–¥–∏—à—å –ø—É—Ç–∏? –ó–∞–±–µ—Ä–∏ –ø—Ä–∞–∫—Ç–∏–∫—É –¥–ª—è –º–∞—Å—à—Ç–∞–±–∞.",
        color: "#0ea5e9",
        icon: Wind
      },
      wish: {
        cardTitle: "–ó–≤–µ–∑–¥–Ω–∞—è –ü—ã–ª—å",
        cardImage: "https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?auto=format&fit=crop&w=800&q=80", 
        title: "–ú–∞–≥–∏—è –¢–≤–æ—Ä–µ–Ω–∏—è",
        text: "–¢–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ–π—á–∞—Å –ø–ª–∞—Å—Ç–∏—á–Ω–æ ‚Äî —Å–∞–º–æ–µ –≤—Ä–µ–º—è –∑–∞–∫–ª–∞–¥—ã–≤–∞—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–∏—è –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –±—É–¥—É—â–µ–µ.",
        productName: "–°–≤–µ—á–∞ ¬´WISH¬ª",
        productPrice: "5 500 ‚ÇΩ",
        consultationText: "–ú–∞–Ω–∏—Ñ–µ—Å—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–æ–≥–¥–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ —á–∏—Å—Ç–æ–µ. –î–∞–≤–∞–π –Ω–∞—Å—Ç—Ä–æ–∏–º —Ç–≤–æ–π –∫–æ–º–ø–∞—Å.",
        color: "#a855f7",
        icon: Sparkles
      }
    };

    // COMPONENTS
    const ProgressBar = ({ current, total, theme }) => {
      const progress = (current / total) * 100;
      
      return (
        <div className="fixed top-0 left-0 right-0 z-50">
          <div 
            className="h-1 transition-all duration-500 ease-out"
            style={{
              width: `${progress}%`,
              background: `linear-gradient(90deg, ${theme.accent}, ${theme.accentLight})`,
              boxShadow: `0 0 10px ${theme.accent}80`
            }}
          />
        </div>
      );
    };

    const BackButton = ({ onClick, theme }) => (
      <button
        onClick={onClick}
        className="fixed top-6 left-6 z-40 w-10 h-10 rounded-full glass-card flex items-center justify-center group"
        style={{ 
          background: theme.cardBg,
          borderWidth: '1px',
          borderStyle: 'solid',
          borderColor: theme.cardBorder 
        }}
      >
        <ArrowLeft 
          className="w-5 h-5 transition-transform group-hover:-translate-x-1" 
          style={{ color: theme.text }} 
        />
      </button>
    );

    const PageTransition = ({ children }) => (
      <div className="w-full h-full flex flex-col animate-slide-in">
        {children}
      </div>
    );

    // SCREENS
    const ScreenIntro = ({ onSelectTheme }) => {
      return (
        <div className="flex-1 flex flex-col items-center justify-center p-8 text-center relative overflow-hidden bg-[#0f0e17]">
          <div className="absolute inset-0">
            <div className="absolute inset-0 bg-gradient-to-br from-[#1a1625] via-[#0f0e17] to-[#0a0a0f]"></div>
            <div 
              className="absolute inset-0 opacity-30"
              style={{
                backgroundImage: 'radial-gradient(circle at 20% 50%, rgba(212, 175, 55, 0.15) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(138, 122, 91, 0.1) 0%, transparent 50%)'
              }}
            />
          </div>
          
          <div className="absolute inset-0 overflow-hidden pointer-events-none">
            {[...Array(30)].map((_, i) => (
              <div 
                key={i}
                className="absolute bg-white rounded-full animate-rise"
                style={{
                  left: `${Math.random() * 100}%`,
                  bottom: '-20px',
                  width: `${Math.random() * 3 + 1}px`,
                  height: `${Math.random() * 3 + 1}px`,
                  opacity: Math.random() * 0.4 + 0.1,
                  animationDuration: `${Math.random() * 15 + 10}s`,
                  animationDelay: `${Math.random() * 5}s`,
                  filter: 'blur(0.5px)'
                }}
              />
            ))}
          </div>
          
          <div className="relative z-10 max-w-md w-full flex flex-col items-center justify-center h-full animate-fade-in-up">
            <div className="mb-20">
              <h1 className="elegant-font text-4xl text-[#f2f0e8] tracking-[0.3em] font-normal mb-3">
                Fire of Life
              </h1>
              <div 
                className="h-px w-32 mx-auto"
                style={{
                  background: 'linear-gradient(90deg, transparent, #D4AF37, transparent)'
                }}
              />
            </div>
            
            <div className="flex justify-center items-center gap-16 w-full mb-12">
              <button 
                onClick={() => onSelectTheme('light')} 
                className="group relative w-32 h-32 rounded-full focus:outline-none transition-all duration-700 hover:scale-110 active:scale-95"
              >
                <div className="absolute inset-0 rounded-full bg-[#fcd34d] opacity-0 group-hover:opacity-40 blur-3xl transition-opacity duration-700"></div>
                
                <div className="absolute inset-0 rounded-full bg-gradient-to-br from-[#fffbeb] via-[#fef3c7] to-[#fbbf24] shadow-[0_0_40px_rgba(251,191,36,0.2)] border-2 border-white/30 flex items-center justify-center overflow-hidden">
                  <div className="absolute inset-4 border-[2px] border-[#fbbf24]/30 rounded-full border-dashed animate-spin-slow"></div>
                  <div className="absolute w-20 h-20 bg-gradient-to-tr from-[#fbbf24] to-[#fef3c7] rounded-full opacity-50 blur-2xl animate-breathe"></div>
                  <Sun className="relative z-10 w-14 h-14 text-[#b45309]" />
                </div>
                
                <p className="absolute -bottom-8 left-1/2 -translate-x-1/2 text-[#f2f0e8]/60 text-xs tracking-widest whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity">
                  –î–ï–ù–¨
                </p>
              </button>

              <button 
                onClick={() => onSelectTheme('dark')} 
                className="group relative w-32 h-32 rounded-full focus:outline-none transition-all duration-700 hover:scale-110 active:scale-95"
              >
                <div className="absolute inset-0 rounded-full bg-[#818cf8] opacity-0 group-hover:opacity-40 blur-3xl transition-opacity duration-700"></div>
                
                <div className="absolute inset-0 rounded-full bg-gradient-to-br from-[#4c1d95] via-[#312e81] to-[#1e1b4b] shadow-[0_0_40px_rgba(129,140,248,0.2)] border-2 border-white/10 flex items-center justify-center overflow-hidden">
                  <div className="absolute top-6 right-8 w-1 h-1 bg-white rounded-full animate-pulse"></div>
                  <div className="absolute bottom-8 left-8 w-1 h-1 bg-white rounded-full animate-pulse" style={{ animationDelay: '1.2s' }}></div>
                  <div className="absolute top-10 left-10 w-0.5 h-0.5 bg-white/60 rounded-full animate-pulse" style={{ animationDelay: '0.8s' }}></div>
                  
                  <div className="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
                  <Moon className="relative z-10 w-12 h-12 text-[#c7d2fe]" />
                </div>
                
                <p className="absolute -bottom-8 left-1/2 -translate-x-1/2 text-[#f2f0e8]/60 text-xs tracking-widest whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity">
                  –ù–û–ß–¨
                </p>
              </button>
            </div>

            <div className="mt-8 space-y-2 text-center animate-fade-in-up" style={{ animationDelay: '0.4s' }}>
              <p className="text-[#f2f0e8]/50 text-xs tracking-[0.3em] uppercase font-light">
                –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –°–æ—Å—Ç–æ—è–Ω–∏—è
              </p>
              <p className="text-[#D4AF37]/40 text-[10px] italic">
                ~ –≤—ã–±–µ—Ä–∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è ~
              </p>
            </div>
          </div>
        </div>
      );
    };

    const ScreenLandscape = ({ onSelect, onBack, theme }) => {
      const [hoveredId, setHoveredId] = useState(null);
      
      return (
        <PageTransition>
          <ProgressBar current={1} total={4} theme={theme} />
          <BackButton onClick={onBack} theme={theme} />
          
          <div className="flex-1 flex flex-col p-6 relative h-full pt-16">
            <div className="mb-10 shrink-0 animate-fade-in-up">
              <span style={{ color: theme.accent }} className="text-[10px] tracking-[0.4em] uppercase block mb-4 font-semibold">
                –®–∞–≥ 1 / 3
              </span>
              <h2 style={{ color: theme.text }} className="text-3xl display-font leading-tight font-semibold">
                –ï—Å–ª–∏ –±—ã —Ç–≤–æ—è –¥—É—à–∞<br/>–±—ã–ª–∞ –ø–µ–π–∑–∞–∂–µ–º,<br/>—Ç–æ –∫–∞–∫–∏–º?
              </h2>
              <p style={{ color: theme.secondary }} className="text-sm mt-4 font-light italic">
                –í—ã–±–µ—Ä–∏ –æ–±—Ä–∞–∑, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è —Å–µ–π—á–∞—Å
              </p>
            </div>
            
            <div className="flex-1 overflow-y-auto min-h-0 pb-6 scrollbar-hide">
              <div className="grid grid-cols-1 gap-5">
                {LANDSCAPES.map((item, index) => (
                  <div 
                    key={item.id}
                    onClick={() => onSelect(item)}
                    onMouseEnter={() => setHoveredId(item.id)}
                    onMouseLeave={() => setHoveredId(null)}
                    className="group relative h-48 w-full rounded-3xl overflow-hidden cursor-pointer border-2 transition-all duration-500 shrink-0 animate-fade-in-up"
                    style={{ 
                      borderColor: hoveredId === item.id ? theme.accent : theme.cardBorder,
                      animationDelay: `${index * 0.1}s`,
                      boxShadow: hoveredId === item.id ? `0 20px 60px ${theme.shadow}` : `0 8px 20px ${theme.shadow}`
                    }}
                  >
                    <img 
                      src={item.img} 
                      alt={item.title} 
                      className="absolute inset-0 w-full h-full object-cover transition-all duration-700 opacity-60 group-hover:opacity-90"
                      style={{
                        transform: hoveredId === item.id ? 'scale(1.1)' : 'scale(1)'
                      }}
                    />
                    
                    <div 
                      className="absolute inset-0 transition-opacity duration-500"
                      style={{
                        background: `linear-gradient(135deg, ${theme.bg}90 0%, transparent 100%)`
                      }}
                    />
                    
                    <div className="absolute inset-0 p-7 flex flex-col justify-end">
                      <div className="transform transition-all duration-500" style={{
                        transform: hoveredId === item.id ? 'translateY(-8px)' : 'translateY(0)'
                      }}>
                        <h3 
                          className="text-2xl font-serif mb-2 transition-colors duration-300"
                          style={{ 
                            color: hoveredId === item.id ? theme.accent : '#ffffff'
                          }}
                        >
                          {item.title}
                        </h3>
                        <p 
                          className="text-sm font-light transition-all duration-500"
                          style={{
                            color: '#f0f0f0',
                            opacity: hoveredId === item.id ? 1 : 0,
                            transform: hoveredId === item.id ? 'translateY(0)' : 'translateY(10px)'
                          }}
                        >
                          {item.desc}
                        </p>
                      </div>
                      
                      <div 
                        className="mt-3 text-xs tracking-wider uppercase opacity-0 group-hover:opacity-100 transition-all duration-500 flex items-center gap-2"
                        style={{ color: theme.accent }}
                      >
                        <span>–í—ã–±—Ä–∞—Ç—å</span>
                        <ArrowRight className="w-3 h-3" />
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </PageTransition>
      );
    };

    const ScreenElement = ({ landscape, onSelect, onBack, theme }) => {
      const IconComponent = ({ icon: Icon }) => <Icon className="w-6 h-6" />;
      
      return (
        <PageTransition>
          <ProgressBar current={2} total={4} theme={theme} />
          <BackButton onClick={onBack} theme={theme} />
          
          <div className="flex-1 flex flex-col p-6 relative h-full pt-16">
            <div className="absolute inset-0 opacity-10 blur-3xl pointer-events-none">
              <img src={landscape.img} className="w-full h-full object-cover animate-zoom" alt="" />
            </div>

            <div className="relative z-10 mb-12 shrink-0 animate-fade-in-up">
              <span style={{ color: theme.accent }} className="text-[10px] tracking-[0.4em] uppercase block mb-4 font-semibold">
                –®–∞–≥ 2 / 3
              </span>
              <h2 style={{ color: theme.text }} className="text-3xl display-font leading-tight font-semibold mb-3">
                –ß–µ–≥–æ –ø—Ä–æ—Å–∏—Ç<br/>—ç—Ç–æ—Ç –ø–µ–π–∑–∞–∂?
              </h2>
              <p style={{ color: theme.secondary }} className="text-sm italic font-light">
                –ö–∞–∫–∞—è —Å—Ç–∏—Ö–∏—è –æ–∂–∏–≤–∏—Ç {landscape.title.toLowerCase()}?
              </p>
            </div>

            <div className="relative z-10 flex-1 overflow-y-auto min-h-0 pb-6 scrollbar-hide">
              <div className="grid grid-cols-2 gap-4">
                {ELEMENTS.map((item, index) => (
                  <button
                    key={item.id}
                    onClick={() => onSelect(item)}
                    className="glass-card aspect-square rounded-3xl p-5 flex flex-col items-center justify-center text-center gap-4 group relative overflow-hidden animate-fade-in-up"
                    style={{ 
                      background: theme.cardBg,
                      borderWidth: '1px',
                      borderStyle: 'solid',
                      borderColor: theme.cardBorder,
                      animationDelay: `${index * 0.1}s`
                    }}
                  >
                    <div 
                      className="absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-500 blur-2xl"
                      style={{ background: theme.accent }}
                    />
                    
                    <div 
                      className="relative w-16 h-16 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-500 shadow-lg"
                      style={{ 
                        background: theme.id === 'light' ? '#ffffff' : 'rgba(255,255,255,0.08)',
                        color: theme.accent,
                        boxShadow: `0 4px 20px ${theme.shadow}`
                      }}
                    >
                      <IconComponent icon={item.icon} />
                    </div>
                    
                    <div className="relative">
                      <h3 style={{ color: theme.text }} className="text-lg font-serif mb-1 font-semibold">
                        {item.title}
                      </h3>
                      <p style={{ color: theme.secondary }} className="text-xs leading-snug opacity-90 font-light">
                        {item.desc}
                      </p>
                    </div>
                    
                    <div 
                      className="absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"
                      style={{ color: theme.accent }}
                    >
                      <ArrowRight className="w-4 h-4" />
                    </div>
                  </button>
                ))}
              </div>
            </div>
          </div>
        </PageTransition>
      );
    };

    const ScreenDoor = ({ onSelect, onBack, theme }) => (
      <PageTransition>
        <ProgressBar current={3} total={4} theme={theme} />
        <BackButton onClick={onBack} theme={theme} />
        
        <div className="flex-1 flex flex-col p-6 justify-center relative h-full pt-16">
          <div className="mb-14 text-center shrink-0 animate-fade-in-up">
            <span style={{ color: theme.accent }} className="text-[10px] tracking-[0.4em] uppercase block mb-4 font-semibold">
              –§–∏–Ω–∞–ª—å–Ω—ã–π –®–∞–≥
            </span>
            <h2 style={{ color: theme.text }} className="text-3xl display-font font-semibold mb-3">
              –ö—É–¥–∞ –≤–µ–¥–µ—Ç<br/>—Ç–≤–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ?
            </h2>
            <p style={{ color: theme.secondary }} className="text-sm italic font-light">
              –í—ã–±–µ—Ä–∏ –¥–≤–µ—Ä—å —Å–≤–æ–µ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
            </p>
          </div>

          <div className="space-y-4 overflow-y-auto min-h-0 pb-4 scrollbar-hide">
            {DOORS.map((door, index) => (
              <button
                key={door.id}
                onClick={() => onSelect(door)}
                className="w-full py-6 px-7 rounded-2xl border-2 flex items-center justify-between group transition-all duration-500 shrink-0 animate-fade-in-up relative overflow-hidden"
                style={{ 
                  borderColor: theme.cardBorder, 
                  background: theme.cardBg,
                  animationDelay: `${index * 0.1}s`
                }}
              >
                <div 
                  className="absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-500"
                  style={{ background: theme.accent }}
                />
                
                <div className="text-left relative z-10">
                  <h3 
                    style={{ color: theme.text }} 
                    className="text-xl font-serif mb-1 group-hover:translate-x-2 transition-transform duration-300 font-semibold"
                  >
                    {door.title}
                  </h3>
                  <p style={{ color: theme.secondary }} className="text-sm font-light">
                    {door.desc}
                  </p>
                </div>
                
                <div 
                  className="w-12 h-12 rounded-full flex items-center justify-center group-hover:scale-110 transition-all duration-500 relative z-10"
                  style={{ 
                    background: theme.id === 'light' ? '#ffffff' : 'rgba(255,255,255,0.05)',
                    border: `1px solid ${theme.cardBorder}`
                  }}
                >
                  <ArrowRight 
                    style={{ color: theme.accent }} 
                    className="w-5 h-5 group-hover:translate-x-1 transition-transform duration-300" 
                  />
                </div>
              </button>
            ))}
          </div>
        </div>
      </PageTransition>
    );

    const ScreenAnalysis = ({ onComplete, theme }) => {
      const [text, setText] = useState("–í–¥–æ—Ö...");
      const [dots, setDots] = useState("");

      useEffect(() => {
        const timer = setTimeout(onComplete, 6000);
        
        const breatheCycle = setInterval(() => {
          setText(prev => prev === "–í–¥–æ—Ö..." ? "–í—ã–¥–æ—Ö..." : "–í–¥–æ—Ö...");
        }, 3000);
        
        const dotsCycle = setInterval(() => {
          setDots(prev => prev.length >= 3 ? "" : prev + ".");
        }, 500);

        return () => {
          clearTimeout(timer);
          clearInterval(breatheCycle);
          clearInterval(dotsCycle);
        };
      }, [onComplete]);

      return (
        <PageTransition>
          <ProgressBar current={4} total={4} theme={theme} />
          
          <div className="flex-1 flex flex-col items-center justify-center p-8 text-center relative overflow-hidden">
            <div 
              className="absolute inset-0 opacity-30"
              style={{
                background: `radial-gradient(circle at center, ${theme.accent}20 0%, transparent 70%)`
              }}
            />
            
            <div className="relative z-10 animate-fade-in-up">
              <div className="relative w-72 h-72 mb-16 flex items-center justify-center">
                <div 
                  className="absolute inset-0 rounded-full opacity-20 animate-breathe"
                  style={{ 
                    background: theme.accent,
                    filter: 'blur(50px)',
                    animationDuration: '6s'
                  }}
                />
                <div 
                  className="absolute inset-12 rounded-full opacity-30 animate-breathe"
                  style={{ 
                    background: theme.accent,
                    filter: 'blur(30px)',
                    animationDelay: '0.3s',
                    animationDuration: '6s'
                  }}
                />
                <div 
                  className="absolute inset-20 rounded-full opacity-40 animate-breathe"
                  style={{ 
                    background: theme.accent,
                    filter: 'blur(20px)',
                    animationDelay: '0.6s',
                    animationDuration: '6s'
                  }}
                />
                
                <div className="animate-breathe" style={{ animationDuration: '6s' }}>
                  <Heart 
                    style={{ 
                      color: theme.text,
                      fill: `${theme.accent}40`
                    }} 
                    className="w-28 h-28 animate-float" 
                  />
                </div>
              </div>

              <h2 
                style={{ color: theme.text }} 
                className="text-3xl font-serif mb-3 tracking-widest uppercase"
              >
                {text}
              </h2>
              
              <p style={{ color: theme.secondary }} className="text-sm font-light mt-2">
                –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ{dots}
              </p>
              
              <div className="mt-12 flex justify-center gap-2">
                {[0, 1, 2].map((i) => (
                  <div
                    key={i}
                    className="w-2 h-2 rounded-full animate-breathe"
                    style={{
                      background: theme.accent,
                      animationDelay: `${i * 0.2}s`,
                      animationDuration: '2s'
                    }}
                  />
                ))}
              </div>
            </div>
          </div>
        </PageTransition>
      );
    };

    const ScreenResult = ({ data, theme, onRestart }) => {
      const result = RESULTS[data.door.result];
      const [isRevealed, setIsRevealed] = useState(false);
      const IconComponent = ({ icon: Icon }) => <Icon className="w-5 h-5" />;
      const ElementIcon = ({ icon: Icon }) => <Icon className="w-3 h-3" style={{ color: theme.accent }} />;

      const telegramMessage = encodeURIComponent(
        `–ü—Ä–∏–≤–µ—Ç! ‚ú®\n–Ø –ø—Ä–æ—à–ª–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É ¬´–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –õ–∞–Ω–¥—à–∞—Ñ—Ç¬ª.\n\n` +
        `üåô –ü–µ–π–∑–∞–∂: ${data.landscape.title} (${data.landscape.trait})\n` +
        `üî• –°—Ç–∏—Ö–∏—è: ${data.element.title}\n` +
        `üö™ –ù–∞–º–µ—Ä–µ–Ω–∏–µ: ${data.door.title}\n\n` +
        `–ú–æ—è –∫–∞—Ä—Ç–∞: ${result.cardTitle}\n` +
        `–ú–æ–π —Ä–µ—Å—É—Ä—Å: ${result.title}\n\n` +
        `–•–æ—á—É –∑–∞–±—Ä–∞—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É –≤ –ø–æ–¥–∞—Ä–æ–∫! üéÅ`
      );
      const telegramUrl = `https://t.me/ksenia_fire_of_life?text=${telegramMessage}`;

      return (
        <div 
          className="min-h-screen relative overflow-y-auto animate-fade-in-up scrollbar-hide" 
          style={{ background: theme.bgGradient }}
        >
          <div className="relative min-h-screen flex flex-col items-center justify-center p-6 overflow-hidden">
            
            <div className="absolute inset-0 opacity-30">
              <div 
                className="absolute top-1/4 left-1/4 w-96 h-96 rounded-full blur-3xl animate-breathe"
                style={{ background: result.color, animationDuration: '8s' }}
              />
              <div 
                className="absolute bottom-1/4 right-1/4 w-96 h-96 rounded-full blur-3xl animate-breathe"
                style={{ background: theme.accent, animationDuration: '10s', animationDelay: '2s' }}
              />
            </div>

            <div className="absolute inset-0 opacity-5" style={{
              backgroundImage: `url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23${theme.accent.substring(1)}' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`
            }} />

            <div className="relative z-20 w-full max-w-sm mb-10 animate-fade-in-up">
              <div 
                className="aspect-[2/3] rounded-3xl overflow-hidden shadow-2xl border-2 relative group"
                style={{ 
                  borderColor: `${theme.accent}60`,
                  boxShadow: `0 25px 80px ${theme.shadow}, 0 0 50px ${result.color}30`
                }}
              >
                <img 
                  src={result.cardImage} 
                  alt="Card" 
                  className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700" 
                />
                <div className="absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent opacity-80" />
                
                <div className="absolute inset-0 p-8 flex flex-col justify-between">
                  <div className="flex justify-center">
                    <div 
                      className="inline-flex items-center gap-2 px-4 py-2 rounded-full backdrop-blur-md border"
                      style={{
                        background: 'rgba(255,255,255,0.1)',
                        borderColor: 'rgba(255,255,255,0.2)'
                      }}
                    >
                      <IconComponent icon={result.icon} />
                      <span className="text-white text-xs tracking-wider uppercase font-semibold">
                        –¢–≤–æ—è –ö–∞—Ä—Ç–∞
                      </span>
                    </div>
                  </div>
                  
                  <div className="text-center">
                    <div 
                      className="w-16 h-1 mx-auto mb-4 rounded-full"
                      style={{ background: theme.accent }}
                    />
                    <h2 className="text-3xl text-white display-font leading-tight font-bold">
                      {result.cardTitle}
                    </h2>
                  </div>
                </div>
              </div>
              
              <div className="flex justify-center mt-6 gap-3">
                <button
                  onClick={() => {
                    if (navigator.share) {
                      navigator.share({
                        title: 'Fire of Life - –ú–æ—è –ö–∞—Ä—Ç–∞',
                        text: `–Ø –ø–æ–ª—É—á–∏–ª–∞ –∫–∞—Ä—Ç—É "${result.cardTitle}" –≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ Fire of Life`,
                        url: window.location.href
                      }).catch(() => {});
                    }
                  }}
                  className="px-6 py-3 rounded-full backdrop-blur-md border flex items-center gap-2 transition-all hover:scale-105"
                  style={{
                    background: theme.cardBg,
                    borderColor: theme.cardBorder,
                    color: theme.text
                  }}
                >
                  <Share2 className="w-4 h-4" />
                  <span className="text-sm font-medium">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</span>
                </button>
              </div>
            </div>

            {!isRevealed ? (
              <div className="relative z-20 text-center animate-fade-in-up max-w-md">
                <p 
                  className="text-base mb-8 leading-relaxed italic px-4"
                  style={{ color: theme.text, opacity: 0.9 }}
                >
                  ¬´–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –∫–∞—Ä—Ç—É. –û —á–µ–º —ç—Ç–æ—Ç –æ–±—Ä–∞–∑ –¥–ª—è —Ç–µ–±—è —Å–µ–π—á–∞—Å?<br/>
                  –ö–∞–∫–æ–π –æ—Ç–∫–ª–∏–∫ –æ–Ω —Ä–æ–∂–¥–∞–µ—Ç –≤ —Ç–µ–ª–µ?¬ª
                </p>
                
                <button 
                  onClick={() => setIsRevealed(true)}
                  className="btn-primary inline-flex items-center gap-3 px-10 py-5 rounded-full font-bold uppercase tracking-widest text-sm transition-all shadow-2xl hover:scale-105 active:scale-95"
                  style={{ 
                    backgroundColor: theme.accent,
                    color: theme.buttonText,
                    boxShadow: `0 15px 40px ${theme.accent}50`
                  }}
                >
                  <Lock className="w-4 h-4" />
                  <span>–û—Ç–∫—Ä—ã—Ç—å –ü–æ—Å–ª–∞–Ω–∏–µ</span>
                </button>
              </div>
            ) : (
              <div className="w-full max-w-lg animate-fade-in-up pb-16 px-4">
                <div 
                  className="rounded-3xl p-8 shadow-2xl text-center relative overflow-hidden"
                  style={{ 
                    backgroundColor: theme.id === 'light' ? '#ffffff' : '#1a1a2e',
                    color: theme.id === 'light' ? '#1a1625' : '#f2f0e8',
                    boxShadow: `0 25px 80px ${theme.shadow}`
                  }}
                >
                  <div 
                    className="absolute top-0 left-0 right-0 h-1"
                    style={{
                      background: `linear-gradient(90deg, ${theme.accent}, ${result.color})`
                    }}
                  />
                  
                  <div 
                    className="inline-flex items-center gap-2 px-4 py-2 rounded-full border mb-8"
                    style={{ 
                      borderColor: `${theme.accent}40`,
                      backgroundColor: `${theme.accent}15`
                    }}
                  >
                    <Star className="w-4 h-4" style={{ color: theme.accent, fill: theme.accent }} />
                    <span 
                      className="text-xs font-bold tracking-widest uppercase"
                      style={{ color: theme.accent }}
                    >
                      –¢–≤–æ–π –†–µ—Å—É—Ä—Å
                    </span>
                  </div>

                  <h3 
                    className="text-3xl display-font mb-5 leading-tight font-bold"
                    style={{ color: theme.id === 'light' ? '#1a1625' : theme.text }}
                  >
                    {result.title}
                  </h3>
                  
                  <p 
                    className="text-base leading-relaxed mb-10 font-light"
                    style={{ color: theme.id === 'light' ? '#5c5c5c' : theme.secondary }}
                  >
                    {result.text}
                  </p>

                  <div 
                    className="rounded-2xl p-5 mb-8 text-left"
                    style={{
                      background: theme.id === 'light' ? '#f9f7f4' : 'rgba(255,255,255,0.05)',
                      border: `1px solid ${theme.cardBorder}`
                    }}
                  >
                    <h4 
                      className="text-sm uppercase tracking-wider mb-4 font-bold"
                      style={{ color: theme.accent }}
                    >
                      –¢–≤–æ–π –ü—É—Ç—å
                    </h4>
                    <div className="space-y-3 text-sm">
                      <div className="flex items-start gap-3">
                        <div className="w-6 h-6 rounded-full flex items-center justify-center shrink-0 mt-0.5" style={{ background: `${theme.accent}20` }}>
                          <Eye className="w-3 h-3" style={{ color: theme.accent }} />
                        </div>
                        <div>
                          <span className="font-semibold">{data.landscape.title}</span>
                          <span className="opacity-60"> ‚Äî {data.landscape.trait}</span>
                        </div>
                      </div>
                      <div className="flex items-start gap-3">
                        <div className="w-6 h-6 rounded-full flex items-center justify-center shrink-0 mt-0.5" style={{ background: `${theme.accent}20` }}>
                          <ElementIcon icon={data.element.icon} />
                        </div>
                        <div>
                          <span className="font-semibold">{data.element.title}</span>
                          <span className="opacity-60"> ‚Äî {data.element.type}</span>
                        </div>
                      </div>
                      <div className="flex items-start gap-3">
                        <div className="w-6 h-6 rounded-full flex items-center justify-center shrink-0 mt-0.5" style={{ background: `${theme.accent}20` }}>
                          <Star className="w-3 h-3" style={{ color: theme.accent }} />
                        </div>
                        <div>
                          <span className="font-semibold">{data.door.title}</span>
                          <span className="opacity-60"> ‚Äî {data.door.desc}</span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div 
                    className="rounded-2xl p-5 mb-8 flex items-center gap-4"
                    style={{
                      background: theme.id === 'light' ? '#ffffff' : 'rgba(255,255,255,0.03)',
                      border: `1px solid ${theme.cardBorder}`,
                      boxShadow: `0 4px 20px ${theme.shadow}`
                    }}
                  >
                    <div 
                      className="w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 shadow-md"
                      style={{ 
                        background: theme.id === 'light' ? '#f9f7f4' : 'rgba(255,255,255,0.08)'
                      }}
                    >
                      <Flame className="w-6 h-6" style={{ color: result.color }} />
                    </div>
                    <div className="flex-1 text-left">
                      <p 
                        className="text-xs uppercase tracking-wider mb-1 font-semibold"
                        style={{ color: theme.id === 'light' ? '#999' : theme.secondary }}
                      >
                        –Ø–∫–æ—Ä—å –°–æ—Å—Ç–æ—è–Ω–∏—è
                      </p>
                      <h4 
                        className="font-serif font-bold text-base"
                        style={{ color: theme.id === 'light' ? '#1a1625' : theme.text }}
                      >
                        {result.productName}
                      </h4>
                    </div>
                    <a 
                      href="http://fire-of-life.ru/katalog" 
                      target="_blank" 
                      rel="noopener noreferrer"
                      className="w-11 h-11 rounded-full flex items-center justify-center transition-all hover:scale-110"
                      style={{ backgroundColor: theme.accent }}
                    >
                      <ArrowRight className="w-5 h-5" style={{ color: theme.buttonText }} />
                    </a>
                  </div>

                  <div 
                    className="rounded-2xl p-6"
                    style={{
                      background: theme.id === 'light' ? '#fcfbf9' : 'rgba(212,175,55,0.05)',
                      border: `1px solid ${theme.cardBorder}`
                    }}
                  >
                    <div className="flex items-center gap-2 mb-4 justify-center">
                      <MessageCircle className="w-5 h-5" style={{ color: theme.accent }} />
                      <h4 
                        className="text-base font-bold uppercase tracking-wider"
                        style={{ color: theme.id === 'light' ? '#1a1625' : theme.text }}
                      >
                        –ü–æ–¥–∞—Ä–æ–∫ –¥–ª—è –¢–µ–±—è
                      </h4>
                    </div>
                    
                    <p 
                      className="text-sm mb-5 leading-relaxed"
                      style={{ color: theme.id === 'light' ? '#5c5c5c' : theme.secondary }}
                    >
                      {result.consultationText}
                      <span className="block mt-3 opacity-80 font-medium text-xs">
                        ‚ú® –≠—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –Ω–∏ –∫ —á–µ–º—É —Ç–µ–±—è –Ω–µ –æ–±—è–∑—ã–≤–∞–µ—Ç.
                      </span>
                    </p>
                    
                    <a 
                      href={telegramUrl} 
                      target="_blank" 
                      rel="noreferrer"
                      className="btn-primary block w-full py-4 rounded-2xl text-center text-sm font-bold uppercase tracking-widest transition-all shadow-lg hover:shadow-xl hover:-translate-y-1"
                      style={{ 
                        backgroundColor: theme.accent,
                        color: theme.buttonText
                      }}
                    >
                      –ó–∞–±—Ä–∞—Ç—å –ü—Ä–∞–∫—Ç–∏–∫—É –≤ –ü–æ–¥–∞—Ä–æ–∫
                    </a>
                  </div>
                </div>

                <button 
                  onClick={onRestart}
                  className="w-full mt-10 text-sm flex items-center justify-center gap-2 transition-all opacity-50 hover:opacity-100"
                  style={{ color: theme.text }}
                >
                  <RotateCcw className="w-4 h-4" />
                  <span>–ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</span>
                </button>
              </div>
            )}
          </div>
        </div>
      );
    };

    // MAIN APP
    const MobileContainer = ({ children, theme }) => (
      <div 
        className="min-h-screen w-full flex items-center justify-center font-sans transition-all duration-700"
        style={{ background: theme.bgGradient }}
      >
        <div 
          className="w-full max-w-[420px] min-h-screen md:min-h-[900px] md:max-h-[900px] md:rounded-[40px] shadow-2xl overflow-hidden relative flex flex-col transition-all duration-700"
          style={{ 
            backgroundColor: theme.bg,
            boxShadow: `0 30px 100px ${theme.shadow}`
          }}
        >
          {children}
        </div>
      </div>
    );

    function App() {
      const [step, setStep] = useState('intro');
      const [currentTheme, setCurrentTheme] = useState(THEMES.dark);
      const [history, setHistory] = useState({
        landscape: null,
        element: null,
        door: null
      });

      const handleThemeSelect = (themeId) => {
        setCurrentTheme(THEMES[themeId]);
        setStep('landscape');
      };
      
      const handleLandscapeSelect = (item) => {
        setHistory(prev => ({ ...prev, landscape: item }));
        setStep('element');
      };

      const handleElementSelect = (item) => {
        setHistory(prev => ({ ...prev, element: item }));
        setStep('door');
      };

      const handleDoorSelect = (item) => {
        setHistory(prev => ({ ...prev, door: item }));
        setStep('analysis');
      };

      const handleAnalysisComplete = () => {
        setStep('result');
      };

      const handleRestart = () => {
        setStep('intro');
        setHistory({ landscape: null, element: null, door: null });
      };

      const handleBack = () => {
        const steps = ['intro', 'landscape', 'element', 'door', 'analysis', 'result'];
        const currentIndex = steps.indexOf(step);
        if (currentIndex > 0) {
          setStep(steps[currentIndex - 1]);
        }
      };

      return (
        <MobileContainer theme={currentTheme}>
          {step === 'intro' && <ScreenIntro onSelectTheme={handleThemeSelect} />}
          {step === 'landscape' && <ScreenLandscape onSelect={handleLandscapeSelect} onBack={handleBack} theme={currentTheme} />}
          {step === 'element' && <ScreenElement landscape={history.landscape} onSelect={handleElementSelect} onBack={handleBack} theme={currentTheme} />}
          {step === 'door' && <ScreenDoor onSelect={handleDoorSelect} onBack={handleBack} theme={currentTheme} />}
          {step === 'analysis' && <ScreenAnalysis onComplete={handleAnalysisComplete} theme={currentTheme} />}
          {step === 'result' && <ScreenResult data={history} onRestart={handleRestart} theme={currentTheme} />}
        </MobileContainer>
      );
    }

    ReactDOM.render(<App />, document.getElementById('app'));
  </script>
</body>
</html>
